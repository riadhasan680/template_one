<header class="fixed top-0 left-0 w-full bg-[#fb4948] z-50 h-16 md:h-[80px] flex items-center">
  <div class="max-w-7xl mx-auto w-full px-3 sm:px-4">
    <div class="flex items-center justify-between h-full">
      <!-- Logo -->
      <div class="flex items-center gap-8">
        <div class="flex items-center gap-3">
          <img src="https://huber.ghostpool.com/wp-content/themes/huber/lib/images/logo.png" alt="Huber"
            class="w-[150px] h-auto md:w-[217px] md:h-[32px] select-none">
        </div>

        <!-- Navigation -->
        <nav class="hidden md:flex text-uppercase items-center gap-6 text-sm  ">
          <div class="relative group">
            <div class="flex items-center gap-1 text-white">
              <a href="/" class="hover:text-[#ffd95c] text-[18px] font-light font-[Oswald] text-white">HOME</a>
              <span class="iconify mt-2" data-icon="lucide:chevron-down" data-width="18" data-height="18"></span>

            </div>
            <div
              class="absolute left-0 top-full mt-2 w-48 bg-white border rounded shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto">
              <a class="block px-3 py-2 hover:bg-gray-50" href="#">Overview</a>
              <a class="block px-3 py-2 hover:bg-gray-50" href="#">Updates</a>
            </div>
          </div>

          <div class="relative group">
            <div class="flex items-center gap-1 text-white">
              <a href="/" class="hover:text-[#ffd95c] text-[18px] font-light font-[Oswald] text-white">FEATURES</a>
              <span class="iconify mt-2" data-icon="lucide:chevron-down" data-width="18" data-height="18"></span>
            </div>
            <div
              class="absolute left-1/2 -translate-x-1/2 top-full mt-2 w-[60rem] max-w-[calc(100vw-2rem)] px-4 opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto z-50">
              <span
                class="absolute left-1/2 -translate-x-1/2 -top-2 w-0 h-0 border-l-[6px] border-r-[6px] border-b-[6px] border-l-transparent border-r-transparent border-b-blue-600 z-50"></span>
              <div class="mx-auto max-w-5xl relative rounded shadow-lg overflow-hidden">
                <div class="absolute inset-0"
                  style="background-image:url('https://picsum.photos/seed/mega-bg/1400/800');background-size:cover;background-position:center;">
                </div>
                <div class="relative bg-blue-600/85 text-white">
                  <div class="grid grid-cols-1 md:grid-cols-4 gap-8 p-6 text-[12px] leading-6 z-10">
                    <div>
                      <h4 class="font-semibold mb-2">Hubs/Reviews</h4>
                      <ul class="space-y-1">
                        <li><a href="#" class="hover:underline">Hub Page</a></li>
                        <li><a href="#" class="hover:underline">Review (Video In Header)</a></li>
                        <li><a href="#" class="hover:underline">Review (Background Video Header)</a></li>
                        <li><a href="#" class="hover:underline">Review (With Tabs)</a></li>
                        <li><a href="#" class="hover:underline">Review (Multi Criteria Ratings)</a></li>
                        <li><a href="#" class="hover:underline">Review (Results At Top)</a></li>
                        <li><a href="#" class="hover:underline">Hub (With Previews)</a></li>
                      </ul>
                    </div>
                    <div>
                      <h4 class="font-semibold mb-2">Posts</h4>
                      <ul class="space-y-1">
                        <li><a href="#" class="hover:underline">Standard Post</a></li>
                        <li><a href="#" class="hover:underline">Full Width Page Header Post</a></li>
                        <li><a href="#" class="hover:underline">Full Page Header Post</a></li>
                      </ul>
                    </div>
                    <div>
                      <h4 class="font-semibold mb-2">Pages</h4>
                      <ul class="space-y-1">
                        <li><a href="#" class="hover:underline">Left Sidebar Page</a></li>
                        <li><a href="#" class="hover:underline">Right Sidebar Page</a></li>
                        <li><a href="#" class="hover:underline">Two Sidebars Page</a></li>
                        <li><a href="#" class="hover:underline">No Sidebars Page</a></li>
                        <li><a href="#" class="hover:underline">Full Width Page</a></li>
                        <li><a href="#" class="hover:underline">No Header/Footer Page</a></li>
                        <li><a href="#" class="hover:underline">Password Protected Page</a></li>
                        <li><a href="#" class="hover:underline">Page Elements</a></li>
                      </ul>
                    </div>
                    <div>
                      <h4 class="font-semibold mb-2">Categories</h4>
                      <ul class="space-y-1">
                        <li><a href="#" class="hover:underline">Featured First Post</a></li>
                        <li><a href="#" class="hover:underline">List</a></li>
                        <li><a href="#" class="hover:underline">Columns</a></li>
                        <li><a href="#" class="hover:underline">Full Width Header</a></li>
                        <li><a href="#" class="hover:underline">Search Results</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="relative group">
            <div class="flex items-center gap-1 text-white">
              <a href="/" class="hover:text-[#ffd95c] text-[18px] font-light font-[Oswald] text-white">BUDDYPRESS</a>
              <span class="iconify mt-2" data-icon="lucide:chevron-down" data-width="18" data-height="18"></span>
            </div>
            <div
              class="absolute left-0 top-full mt-2 w-56 bg-white border rounded shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto">
              <a class="block px-3 py-2 hover:bg-gray-50" href="#">Activity</a>
              <a class="block px-3 py-2 hover:bg-gray-50" href="#">Members</a>
              <a class="block px-3 py-2 hover:bg-gray-50" href="#">Groups</a>
              <a class="block px-3 py-2 hover:bg-gray-50" href="#">Forums</a>
            </div>
          </div>

          <a href="#" class="hover:text-[#ffd95c] font-light text-[18px] uppercase font-[Oswald] text-white">Games</a>
          <a href="#" class="hover:text-[#ffd95c] font-light text-[18px] uppercase font-[Oswald] text-white">Shop</a>
        </nav>
      </div>

      <!-- Icons -->
      <div class="flex items-center gap-3 md:gap-4">
        <!-- Cart Icon with badge -->
        <div class="relative">
          <span class="iconify text-white text-2xl cursor-pointer" data-icon="mdi:cart-outline"></span>
          <span
            class="absolute -top-2 -right-2 bg-[#2b4a6f] text-white text-xs font-semibold px-[6px] py-[1px] rounded-full">0</span>
        </div>

        <!-- Search -->
        <span class="iconify text-white text-2xl cursor-pointer" data-icon="mdi:magnify"></span>

        <!-- Twitter -->
        <span class="iconify text-white text-2xl cursor-pointer hidden md:inline" data-icon="mdi:twitter"></span>

        <!-- Facebook -->
        <span class="iconify text-white text-2xl cursor-pointer hidden md:inline" data-icon="mdi:facebook"></span>

        <!-- Pinterest -->
        <span class="iconify text-white text-2xl cursor-pointer hidden md:inline" data-icon="mdi:pinterest"></span>



        <div>
          <div class="flex items-center gap-2">
            <!-- ✅ Login Button -->
            <button id="openLoginModal"
              class="px-5 py-2 hover:text-[#ffd95c] font-light text-[18px] uppercase font-[Oswald] bg-[#FE4A49] text-white  rounded-md hover:bg-[#e83d3c] transition">
              Login
            </button>
            <!-- Mobile menu button (Iconify) -->
            <button id="mobileMenuToggle" type="button" class="md:hidden rounded hover:bg-[#ff6b6a]/20"
              aria-label="Open menu" aria-controls="mobileMenuPanel" aria-expanded="false">
              <span id="menuIcon" class="iconify text-white text-2xl" data-icon="mdi:menu"></span>
              <span id="closeIcon" class="iconify text-white text-2xl hidden" data-icon="mdi:close"></span>
            </button>
          </div>

          <!-- ✅ Modal Background -->
          <div id="loginModal"
            class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300 z-50">
            <!-- Modal Box -->
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl p-8 relative transform transition-all scale-95">
              <!-- Close Button -->
              <button id="closeLoginModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-xl">
                ✕
              </button>

              <div class="grid md:grid-cols-2 gap-6 items-center">
                <!-- Left Section (Image or Illustration) -->
                <div class="hidden md:block">
                  <img src="https://picsum.photos/600/400" alt="Login Illustration"
                    class="w-full h-auto rounded-md object-cover" />
                </div>

                <!-- Right Section (Login Form) -->
                <div>
                  <h2 class="text-3xl font-semibold text-gray-800 mb-4 text-center">
                    Welcome Back
                  </h2>
                  <p class="text-gray-500 text-center mb-6 text-sm">
                    Please log in to your account
                  </p>

                  <form class="space-y-5">
                    <div>
                      <label class="block text-sm text-gray-600 mb-1">Email</label>
                      <input type="email"
                        class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#FE4A49]"
                        placeholder="you@example.com" required />
                    </div>

                    <div>
                      <label class="block text-sm text-gray-600 mb-1">Password</label>
                      <input type="password"
                        class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#FE4A49]"
                        placeholder="••••••••" required />
                    </div>

                    <button type="submit"
                      class="w-full bg-[#FE4A49] text-white py-2 rounded-md hover:bg-[#e83d3c] transition">
                      Sign In
                    </button>

                    <p class="text-sm text-center text-gray-500">
                      Don’t have an account?
                      <a href="#" class="text-[#FE4A49] hover:underline">Sign up</a>
                    </p>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <!-- ✅ JavaScript -->
          <script>
            const openBtn = document.getElementById("openLoginModal");
            const closeBtn = document.getElementById("closeLoginModal");
            const modal = document.getElementById("loginModal");
            const modalBox = modal.querySelector("div");

            openBtn.addEventListener("click", () => {
              modal.classList.remove("opacity-0", "pointer-events-none");
              modal.classList.add("opacity-100");
              modalBox.classList.remove("scale-95");
              modalBox.classList.add("scale-100");
            });

            closeBtn.addEventListener("click", closeModal);
            modal.addEventListener("click", (e) => {
              if (e.target === modal) closeModal();
            });

            function closeModal() {
              modal.classList.add("opacity-0", "pointer-events-none");
              modal.classList.remove("opacity-100");
              modalBox.classList.add("scale-95");
              modalBox.classList.remove("scale-100");
            }

          </script>


        </div>
      </div>
    </div>
    <!-- Mobile menu overlay + drawer (responsive) -->
    <div id="mobileMenuPanel" class="md:hidden hidden fixed inset-0 z-40">
      <div class="absolute top-16 md:top-[80px] left-0 right-0 bottom-0">
        <!-- Backdrop -->
        <div id="mobileMenuBackdrop"
          class="absolute inset-0 bg-black/40 opacity-0 transition-opacity duration-300 ease-in-out"></div>
        <!-- Drawer -->
        <div id="mobileMenuDrawer"
          class="absolute right-0 top-0 bottom-0 w-[85vw] max-w-sm bg-white text-gray-800 shadow-xl border-l transform translate-x-full transition-transform duration-300 ease-in-out">
          <div class="flex items-center justify-between px-4 py-3 border-b">
            <img src="https://huber.ghostpool.com/wp-content/themes/huber/lib/images/logo.png" alt="Huber"
              class="h-6 w-auto select-none">
            <button id="closeMobileMenu" class="p-2 rounded hover:bg-gray-100" aria-label="Close menu">
              <span class="iconify" data-icon="mdi:close" data-width="22" data-height="22"></span>
            </button>
          </div>
          <nav class="flex flex-col py-2">
            <a href="/" class="px-4 py-3 hover:bg-gray-50">Home</a>
            <!-- Features accordion -->
            <button type="button" class="flex items-center justify-between px-4 py-3 hover:bg-gray-50"
              data-toggle-submenu>
              <span class="font-medium">Features</span>
              <span class="iconify" data-icon="lucide:chevron-down" data-width="18" data-height="18"></span>
            </button>
            <div class="px-4 pb-3 space-y-3 hidden">
              <div>
                <h4 class="text-xs font-semibold text-gray-500 mb-2">Hubs/Reviews</h4>
                <ul class="grid grid-cols-2 gap-x-4 gap-y-1 text-sm">
                  <li><a href="#" class="hover:underline">Hub Page</a></li>
                  <li><a href="#" class="hover:underline">Review (Video In Header)</a></li>
                  <li><a href="#" class="hover:underline">Review (Background Video)</a></li>
                  <li><a href="#" class="hover:underline">Review (With Tabs)</a></li>
                  <li><a href="#" class="hover:underline">Multi Criteria Ratings</a></li>
                  <li><a href="#" class="hover:underline">Results At Top</a></li>
                  <li><a href="#" class="hover:underline">Hub (With Previews)</a></li>
                </ul>
              </div>
              <div>
                <h4 class="text-xs font-semibold text-gray-500 mb-2">Posts</h4>
                <ul class="grid grid-cols-2 gap-x-4 gap-y-1 text-sm">
                  <li><a href="#" class="hover:underline">Standard Post</a></li>
                  <li><a href="#" class="hover:underline">Full Width Page Header Post</a></li>
                  <li><a href="#" class="hover:underline">Full Page Header Post</a></li>
                </ul>
              </div>
              <div>
                <h4 class="text-xs font-semibold text-gray-500 mb-2">Pages</h4>
                <ul class="grid grid-cols-2 gap-x-4 gap-y-1 text-sm">
                  <li><a href="#" class="hover:underline">Left Sidebar Page</a></li>
                  <li><a href="#" class="hover:underline">Right Sidebar Page</a></li>
                  <li><a href="#" class="hover:underline">Two Sidebars Page</a></li>
                  <li><a href="#" class="hover:underline">No Sidebars Page</a></li>
                  <li><a href="#" class="hover:underline">Full Width Page</a></li>
                  <li><a href="#" class="hover:underline">No Header/Footer Page</a></li>
                  <li><a href="#" class="hover:underline">Password Protected Page</a></li>
                  <li><a href="#" class="hover:underline">Page Elements</a></li>
                </ul>
              </div>
              <div>
                <h4 class="text-xs font-semibold text-gray-500 mb-2">Categories</h4>
                <ul class="grid grid-cols-2 gap-x-4 gap-y-1 text-sm">
                  <li><a href="#" class="hover:underline">Featured First Post</a></li>
                  <li><a href="#" class="hover:underline">List</a></li>
                  <li><a href="#" class="hover:underline">Columns</a></li>
                  <li><a href="#" class="hover:underline">Full Width Header</a></li>
                  <li><a href="#" class="hover:underline">Search Results</a></li>
                </ul>
              </div>
            </div>
            <!-- Buddypress accordion -->
            <button type="button" class="flex items-center justify-between px-4 py-3 hover:bg-gray-50"
              data-toggle-submenu>
              <span class="font-medium">Buddypress</span>
              <span class="iconify" data-icon="lucide:chevron-down" data-width="18" data-height="18"></span>
            </button>
            <div class="px-4 pb-3 space-y-2 hidden">
              <ul class="grid grid-cols-2 gap-x-4 gap-y-1 text-sm">
                <li><a href="#" class="hover:underline">Activity</a></li>
                <li><a href="#" class="hover:underline">Members</a></li>
                <li><a href="#" class="hover:underline">Groups</a></li>
                <li><a href="#" class="hover:underline">Forums</a></li>
              </ul>
            </div>
            <a href="#" class="px-4 py-3 hover:bg-gray-50">Games</a>
            <a href="#" class="px-4 py-3 hover:bg-gray-50">Shop</a>
            <a href="#" class="px-4 py-3 hover:bg-gray-50">Login</a>
          </nav>
          <script>
            // Accordion behaviour for mobile drawer
            document.querySelectorAll('#mobileMenuDrawer [data-toggle-submenu]').forEach(btn => {
              btn.addEventListener('click', () => {
                const content = btn.nextElementSibling;
                const isHidden = content.classList.contains('hidden');
                document.querySelectorAll('#mobileMenuDrawer [data-toggle-submenu] + div').forEach(div => {
                  if (div !== content) div.classList.add('hidden');
                });
                if (isHidden) content.classList.remove('hidden'); else content.classList.add('hidden');
              });
            });
          </script>
          <!-- Mobile drawer toggle script placed after markup to ensure elements exist -->
          <script>
            (function () {
              const mobileMenuBtn = document.getElementById('mobileMenuToggle');
              const mobileMenuPanel = document.getElementById('mobileMenuPanel');
              const mobileDrawer = document.getElementById('mobileMenuDrawer');
              const mobileBackdrop = document.getElementById('mobileMenuBackdrop');
              const closeMobileBtn = document.getElementById('closeMobileMenu');
              const menuIcon = document.getElementById('menuIcon');
              const closeIcon = document.getElementById('closeIcon');

              const updateButtonState = (open) => {
                mobileMenuBtn?.setAttribute('aria-expanded', open ? 'true' : 'false');
                mobileMenuBtn?.setAttribute('aria-label', open ? 'Close menu' : 'Open menu');
                if (menuIcon && closeIcon) {
                  if (open) {
                    menuIcon.classList.add('hidden');
                    closeIcon.classList.remove('hidden');
                  } else {
                    closeIcon.classList.add('hidden');
                    menuIcon.classList.remove('hidden');
                  }
                }
              };

              const openMobileMenu = () => {
                mobileMenuPanel.classList.remove('hidden');
                mobileDrawer.classList.remove('translate-x-full');
                document.body.classList.add('overflow-hidden');
                mobileBackdrop?.classList.add('opacity-100');
                mobileBackdrop?.classList.remove('opacity-0');
                updateButtonState(true);
              };
              const closeMobileMenu = () => {
                mobileDrawer.classList.add('translate-x-full');
                document.body.classList.remove('overflow-hidden');
                mobileBackdrop?.classList.remove('opacity-100');
                mobileBackdrop?.classList.add('opacity-0');
                setTimeout(() => mobileMenuPanel.classList.add('hidden'), 300);
                updateButtonState(false);
              };

              if (mobileMenuBtn && mobileMenuPanel && mobileDrawer) {
                mobileMenuBtn.addEventListener('click', (e) => {
                  e.stopPropagation();
                  const isOpen = !mobileMenuPanel.classList.contains('hidden');
                  if (isOpen) closeMobileMenu(); else openMobileMenu();
                });
              }
              mobileBackdrop?.addEventListener('click', closeMobileMenu);
              closeMobileBtn?.addEventListener('click', closeMobileMenu);
              document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !mobileMenuPanel.classList.contains('hidden')) {
                  closeMobileMenu();
                }
              });
            })();
          </script>
        </div>
      </div>
    </div>
</header>